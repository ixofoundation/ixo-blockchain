#!/usr/bin/env bash

echo "Getting sign data on an AddDid msg..."
REQ='{"msg":"0x7B2274797065223A226469642F416464446964222C2276616C7565223A7B22646964223A226469643A69786F3A55347453707A7A763931484871575731596D466B484A222C227075624B6579223A22466B65447565356974383274616568654D7072646150726374664B3344655656394E6E455059446777775247227D7D","pub_key":"FkeDue5it82taeheMprdaPrctfK3DeVV9NnEPYDgwwRG"}'
curl -X POST localhost:1317/txs/sign_data --data-binary "$REQ"

# Decoded request (what we're actually requesting):
# {
#   "msg": {
#     "type": "did/AddDid",
#     "value": {
#       "did": "did:ixo:U4tSpzzv91HHqWW1YmFkHJ",
#       "pubKey": "FkeDue5it82taeheMprdaPrctfK3DeVV9NnEPYDgwwRG"
#     }
#   },
#   "pub_key": "FkeDue5it82taeheMprdaPrctfK3DeVV9NnEPYDgwwRG"
# }

echo "Getting sign data on a CreateProject msg..."
REQ='{"msg":"0x7B2274797065223A2270726F6A6563742F43726561746550726F6A656374222C2276616C7565223A7B2264617461223A7B226E6F6465446964223A226E6F6465446964222C227265717569726564436C61696D73223A22353030222C2273657276696365456E64706F696E74223A2273657276696365456E64706F696E74222C22637265617465644F6E223A22323032302D30312D30315430313A30313A30312E3030305A222C22637265617465644279223A2243726561746F72222C22737461747573223A22222C2266656573223A7B2240636F6E74657874223A22222C226974656D73223A5B7B224074797065223A224F7261636C65466565222C226964223A227061796D656E743A74656D706C6174653A6F7261636C652D666565227D2C7B224074797065223A22466565466F7253657276696365222C226964223A227061796D656E743A74656D706C6174653A6665652D666F722D73657276696365227D5D7D7D2C22747848617368223A2261616161222C2273656E646572446964223A226469643A69786F3A5537474B3870387256684A4D4B68425652434A4A3863222C2270726F6A656374446964223A226469643A69786F3A52594C486B664E706241384C6F737936386A74347946222C227075624B6579223A22454E6D4D4373664E6D6A596F5452684E676E7758625141773670384A4B483944434A66475450584E66737857227D7D","pub_key":"ENmMCsfNmjYoTRhNgnwXbQAw6p8JKH9DCJfGTPXNfsxW"}'
curl -X POST localhost:1317/txs/sign_data --data-binary "$REQ"

# Decoded request (what we're actually requesting):
#{
#  "msg": {
#    "type": "project/CreateProject",
#    "value": {
#      "data": {
#        "nodeDid": "nodeDid",
#        "requiredClaims": "500",
#        "serviceEndpoint": "serviceEndpoint",
#        "createdOn": "2020-01-01T01:01:01.000Z",
#        "createdBy": "Creator",
#        "status": "",
#        "fees": {
#          "@context": "",
#          "items": [
#            {
#              "@type": "OracleFee",
#              "id": "payment:template:oracle-fee"
#            },
#            {
#              "@type": "FeeForService",
#              "id": "payment:template:fee-for-service"
#            }
#          ]
#        }
#      },
#      "txHash": "aaaa",
#      "senderDid": "did:ixo:U7GK8p8rVhJMKhBVRCJJ8c",
#      "projectDid": "did:ixo:RYLHkfNpbA8Losy68jt4yF",
#      "pubKey": "ENmMCsfNmjYoTRhNgnwXbQAw6p8JKH9DCJfGTPXNfsxW"
#    }
#  },
#  "pub_key": "ENmMCsfNmjYoTRhNgnwXbQAw6p8JKH9DCJfGTPXNfsxW"
#}